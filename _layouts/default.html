<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}" media="screen" type="text/css">
    <link rel="stylesheet" href="{{ '/assets/css/print.css' | relative_url }}" media="print" type="text/css">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->

    <title>Math.zSnout.com</title>
    <meta name="generator" content="Jekyll v3.8.7" />
    <meta property="og:title" content="Math.zSnout.com" />
    <meta property="og:locale" content="en_US" />
    <meta name="description" content="Learn all about cool math stuff!" />
    <meta property="og:description" content="Learn all about cool math stuff!" />
    <link rel="canonical" href="https://new.zsnout.com/" />
    <meta property="og:url" content="http://new.zsnout.com/" />
    <meta property="og:site_name" content="Math.zSnout.com" />
    <script type="application/ld+json">
      {
        "@type": "WebSite",
        "headline": "Math.zSnout.com",
        "url": "http://new.zsnout.com/",
        "name": "Math.zSnout.com",
        "description": "Learn all about cool math stuff!",
        "@context": "https://schema.org"
      }
    </script>
    
    <script>
      var query = window.location.search;
      if (!(query.match(/\?v=[0-9]{6}/))) {
        window.location.search = "?v=" + Math.floor((999999 - 100000) * Math.random() + 100000);
      }
      
      function setCookie(cname,cvalue) {
        var d = new Date();
        var days = 1000; // Days to store cookie for.
        d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
        var expires = "expires="+d.toUTCString();
        document.cookie = cname + "=" + btoa(cvalue) + ";" + expires + ";path=/";
      }
      function getCookie(cname) {
        var name = cname + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return atob(c.substring(name.length, c.length));
          }
        }
        
        return "";
      }
      
      try {
        JSON.parse(getCookie("config"));
      } catch {
        var config = {
          recent: 5
        };
        
        setCookie("config",JSON.stringify(config));
      }
      
      function getConfig(key) {
        return JSON.parse(getCookie("config"))[key];
      }
      function setConfig(key,val) {
        var config = JSON.parse(getCookie("config"));
        config[key] = val;
        setCookie("config",JSON.stringify(config));
      }
    </script>
  </head>
  <body>
    <header>
      <div class="inner">
        <a href="{{ '/' | absolute_url }}">
          <h1>{{ site.title | default: site.github.repository_name }}</h1>
        </a>
        <h2>{{ site.description | default: site.github.project_tagline }}</h2>
        <h3><a>abc</a><a>def</a><a>ghi</a></h3>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          {{ content }}
        </section>

        <aside id="sidebar">
          <p style='font-weight: bold' id='recently-visited'>Recently Visited</p>
          <p style='font-weight: bold' id='config'>Preferences</p>
        </aside>
      </div>
    </div>
    
    <script>
      var title = document.getElementById("main-content").getElementsByTagName("h1")[0].textContent;
      document.getElementsByTagName("title")[0].textContent = title;
      
      var recent = getCookie("recent");
      try {
        recent = JSON.parse(recent);
      } catch {
        recent = [];
      }
      
      var path = window.location.pathname;
      var newRecent = [];
      for (var i = 0;i < recent.length;i++) {
        if (recent[i].path != path) {
          newRecent.push(recent[i]);
        }
      }
      recent = newRecent;
      
      recent.unshift({
        path: path,
        title: title
      });
      
      recent = recent.slice(0,getConfig("recent"));
      setCookie("recent",JSON.stringify(recent));
      
      var recentEl = document.getElementById("recently-visited");
      for (var i = recent.length - 1;i >= 0;i--) {
        recentEl.insertAdjacentHTML("afterend","<p><a href='" + recent[i].path.replace(/'/g,"&apos;") + "'>" + recent[i].title.replace(/</,"&lt;") + "</a></p>");
      }
      
      var config = document.getElementById("config");
      config.insertAdjacentHTML("afterend","<p><a href='#' onclick='setConfig(\"recent\",5);alert(\"Your preferences have been saved.\")'>Remember Last 5</a></p>");
      config.insertAdjacentHTML("afterend","<p><a href='#' onclick='setConfig(\"recent\",10);alert(\"Your preferences have been saved.\")'>Remember Last 10</a></p>");
      
      var headings = document.getElementById("main-content").querySelectorAll("h2, h3");
    </script>
  </body>
</html>
